databaseChangeLog:
  - changeSet:
      id: 001-init
      author: kseniya
      changes:
        - createTable:
            tableName: spare_parts
            columns:
              - column: {name: id, type: BIGSERIAL, constraints: {primaryKey: true}}
              - column: {name: spare_code, type: VARCHAR(128), constraints: {nullable: false, unique: true}}
              - column: {name: name, type: VARCHAR(512)}
              - column: {name: description, type: TEXT}
              - column: {name: type, type: VARCHAR(64)}
              - column: {name: status, type: VARCHAR(64)}
              - column: {name: price, type: NUMERIC(18,2)}
              - column: {name: quantity, type: INT}
              - column: {name: updated_at, type: TIMESTAMP WITH TIME ZONE}
              - column: {name: is_active, type: BOOLEAN, defaultValueBoolean: true}
              - column: {name: last_seen_at, type: TIMESTAMP WITH TIME ZONE}
              - column: {name: created_at, type: TIMESTAMP WITH TIME ZONE, defaultValueComputed: CURRENT_TIMESTAMP}
              - column: {name: modified_at, type: TIMESTAMP WITH TIME ZONE}
        - createTable:
            tableName: spare_part_versions
            columns:
              - column: {name: id, type: BIGSERIAL, constraints: {primaryKey: true}}
              - column: {name: spare_code, type: VARCHAR(128), constraints: {nullable: false}}
              - column: {name: name, type: VARCHAR(512)}
              - column: {name: description, type: TEXT}
              - column: {name: type, type: VARCHAR(64)}
              - column: {name: status, type: VARCHAR(64)}
              - column: {name: price, type: NUMERIC(18,2)}
              - column: {name: quantity, type: INT}
              - column: {name: updated_at, type: TIMESTAMP WITH TIME ZONE}
              - column: {name: version_created_at, type: TIMESTAMP WITH TIME ZONE, defaultValueComputed: CURRENT_TIMESTAMP}
              - column: {name: change_kind, type: VARCHAR(16)}
        - createIndex:
            indexName: idx_spare_part_versions_code
            tableName: spare_part_versions
            columns:
              - column: {name: spare_code}
        - createTable:
            tableName: sync_run
            columns:
              - column: {name: id, type: BIGSERIAL, constraints: {primaryKey: true}}
              - column: {name: started_at, type: TIMESTAMP WITH TIME ZONE}
              - column: {name: finished_at, type: TIMESTAMP WITH TIME ZONE}
              - column: {name: status, type: VARCHAR(16)}
              - column: {name: total_from_cms, type: INT}
              - column: {name: inserted, type: INT}
              - column: {name: updated, type: INT}
              - column: {name: deactivated, type: INT}
              - column: {name: message, type: TEXT}
